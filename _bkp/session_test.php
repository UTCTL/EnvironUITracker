#!/bin/bash/php
<?php 


class Session { 
	
	private $dblink; 
	private $id; 
	public $session_id; 
	public $accessdatetime; 
	public $name; 
	public $ipaddress; 
	public $citystate; 
	public $spent_funds; 
	public $spent_polcap; 
	public $last_level; 
	public $playtime; 
	public $status; 
	public $completed; 
	public $clicks; 
	public $drag; 
	public $arrows; 
	public $wasdkeys; 
	public $minimap; 
	public $numkeys; 
	public $panel_time_open; 
	public $panel_time_close; 
	public $panel_clicks_open; 
	public $panel_clicks_close; 
	public $region_data; 
	public $classcode; 

	public function __construct($str) {
		$j = json_decode($str,true); 
		$id = ''; 

		foreach($j as $a => $b) {
			$id = $a; 
		} 

		$this->session_id 	= $id; 
		$this->name 		= $j[$id]["meta"]["name"]; 
		$this->classcode 	= $row["meta"]['classcodes_id']; 
		$this->ipaddress 	= $j[$id]["meta"]["ipaddr"]; 
		$this->citystate 	= $j[$id]["meta"]["citystate"]; 
		$this->spent_funds 	= $j[$id]["details"]["spent_funds"]; 
		$this->spent_polcap = $j[$id]["details"]["spent_polcap"]; 
		$this->last_level 	= $j[$id]["details"]["level"]; 
		$this->playtime 	= $j[$id]["details"]["playtime"]; 
		$this->status 		= $j[$id]["details"]["status"]; 
		$this->completed 	= $j[$id]["details"]["completed"]; 

		$c = ''; 
		foreach($j[$id]["input"]["screen_usage"] as $a) {
			foreach($a as $b) {
				$c .= '['.$b[0].','.$b[1].'],'; 
			}
		}
		$this->clicks = rtrim($c,','); 

		$this->drag = $j[$id]["input"]["camera_movement"]["drag"]; 
		$this->arrows = $j[$id]["input"]["camera_movement"]["arrows"]; 
		$this->wasdkeys = $j[$id]["input"]["camera_movement"]["keys"]; 
		$this->minimap = $j[$id]["input"] ["navigation"]["minimap"]; 
		$this->numkeys = $j[$id]["input"] ["navigation"]["keys"]; 
		$this->panel_time_open = $j[$id]["input"]["panel_time"]["open"]; 
		$this->panel_time_close = $j[$id]["input"]["panel_time"]["closed"]; 
		$this->panel_clicks_open = $j[$id]["input"]["panel_time"]["click_open"]; 
		$this->panel_clicks_close = $j[$id]["input"]["panel_time"]["click_close"]; 

		$c = '{'; 
		foreach($j[$id]["regions"] as $r => $d) {
			$c .= '"'.$r.'": {'; 
			foreach($d as $k => $v) {

				if($k=='name'||$k=='initials')
					$c .= '"'.$k.'" : "'.$v.'", '; 
				elseif($k=='scores') {

					$s = '"'.$k.'":{'; 
					foreach($v as $scoretype => $scorevalue) {
						$s .= '"'.$scoretype.'" : ['; 
						foreach($scorevalue as $svi => $svc) {
							$s .= $svc.','; 
						} 
						$s = rtrim($s,',').'],'; 
					}
					$s = rtrim($s,',').'},'; 
					$c .= $s; 

				} elseif($k=='bases') {

					$b = '"'.$k.'" : ['; 
					foreach($v as $baseproperty => $baseinfo) {
						$b .= '{'; 
						foreach($baseinfo as $baseinfoproperty => $baseinfovalue) {
							if($baseinfoproperty=="upgrades") {
								$b .= '"'.$baseinfoproperty.'":['; 
								foreach($baseinfovalue as $upgradeindex => $upgradevalue) {
									$b .= '{'; 
									foreach($upgradevalue as $ui => $uv) {
										if($ui=="active") {
											$b .= '"'.$ui.'" : '.((!$uv) ? 'false' : 'true').','; 
										} else {
											$b .= '"'.$ui.'" : "'.$uv.'",'; 
										}
									}
									$b = rtrim($b,',').'},'; 
								}
								$b = rtrim($b,',').'],'; 
							} elseif($baseinfoproperty=='active') {
								$b .= '"'.$baseinfoproperty.'" : '.((!$baseinfovalue) ? '0' : '1').','; 
							} else {
								$b .= '"'.$baseinfoproperty.'" : "'.$baseinfovalue.'",'; 
							}
						}
						$b = rtrim($b,',').'},'; 
					}
					$b = rtrim($b,',').']'; 
					$c .= $b; 

				} else 
					$c .= '"'.$k.'" : '.$v.', '; 

			}
			$c .= '},'; 
		}
		$this->region_data = rtrim($c,',').'}'; 
		//$this->region_data 	= $j[$id]["regions"]["ipaddr"]; 

	} 

	public function getId() { return $this->id; } 
	private function setId($int) { $this->id = clean($int); } 
} 

$str = '{"3196bb8a92db496af6c78cd799ceec46": {"meta" : {"session":"3196bb8a92db496af6c78cd799ceec46", "age":"","gender":"","ethnic":"","gamer":"","ipaddr":"146.6.24.29"},"details" : {"spent_funds":19000,"spent_polcap":0,"level":2,"playtime":"209.3748","status":"2","completed":0},"input" : {"screen_usage":{"clicks":[[977,163], [743,393], [670,336], [481,267], [483,283], [674,302], [680,318], [686,329], [705,340], [727,362], [398,398], [604,100], [137,568], [739,349], [584,120], [244,558], [750,361], [597,124], [220,572], [751,362], [619,126], [269,568], [756,357], [592,121], [169,578], [685,260], [599,475], [609,100], [271,569], [629,485], [566,86], [236,555], [644,288], [495,539], [598,113], [717,238], [704,265], [766,258], [509,282], [824,227], [576,89], [561,99], [92,18], [1098,178], [1001,115], [437,385], [505,428], [584,118], [584,118], [1046,302], [1046,302], [47,682], [32,682], [525,254], [423,343], [641,297], [743,264], [721,257], [607,86], [23,684], [85,28], [126,22], [183,7], [1049,166], [661,370], [550,290], [500,250], [979,116], [1004,116], [487,368], [512,389], [550,428], [595,123], [596,123], [596,123], [865,85], [566,436], [602,95], [25,685], [600,432], [34,685], [610,80], [420,379], [185,558], [482,431], [438,601], [819,322], [1039,128], [732,388], [538,288], [1085,174], [689,591], [581,282], [1112,110], [586,427], [541,447], [547,288], [1006,121], [498,452], [587,79], [587,79], [26,674], [388,523], [636,529], [388,366], [428,506], [203,564], [491,585], [516,587], [204,573], [677,612], [662,610], [198,560], [773,314], [674,342], [631,123], [632,124], [632,124], [632,124], [632,124], [632,124], [865,84], [872,488], [24,682], [999,116], [516,435], [549,439], [584,87], [584,87], [438,391], [465,453], [417,677], [582,88], [20,680], [30,680], [788,246], [591,337], [82,10], [117,13], [522,213], [585,110], [550,227], [551,199], [420,250], [435,535], [565,612], [455,541], [151,564], [806,464], [148,567], [792,322], [157,562], [715,238], [138,573], [622,165], [576,183], [466,260], [175,570], [462,460], [689,454], [686,336], [1045,167], [668,402], [632,336], [405,399], [164,555], [460,526], [153,565], [599,588], [186,563], [802,482], [182,557], [637,242], [645,361], [639,386], [677,548], [706,563], [670,215], [604,169], [422,385], [194,567], [444,536], [211,570], [800,460], [211,551], [704,447], [584,584], [889,485], [901,557], [389,399], [162,574], [426,533], [221,554], [1105,109], [599,458], [568,456], [406,408], [431,530], [192,562], [575,304], [-1,-1]]},"camera_movement":{"drag":36,"arrows":1,"keys":0},"navigation":{"minimap":12,"keys":0},"panel_time":{"open":181.5721,"closed":27.80273} },"regions" : {"W" : {"name" : "World", "initials" : "W", "order" : 0, "spent_funds" : 0, "spent_polcap" : 0, "scores" : { "environ" : [5,4.792961,4.526156,4.356999,4.025965,3.701307,3.223147,2.85843,2.278077,1.955408,1.545856,0.9929037,0.7748165,0.6340825,0.1627483,-0.3340511,-0.7413387,-1.076004,-1.471315,-1.871909,-2.325519,-2.897621,-3.436679,-3.856721,-4.446494,-4.780513,-4.998526,-5.494181,-5.946121,-6.135735,-6.707905,-7.147974,-7.549429,-7.942249,-8.504817,-8.571786,-8.959161,-9.007642,-9.271007,-9.503047,-10.01717,-10.50469,-10.55422,-10.70457,-11.20296,-11.58774,-11.95364,-12.12736,-13.94275,-14.22213,-14.47308,-14.60277,-14.86321,-14.70449,-14.71585,-14.86121,-18.14335,-18.39168,-18.55451,-18.75333,-18.52263],"economy":[5,4.792961,4.526156,4.356999,4.025965,3.701307,3.223147,2.85843,2.278077,1.955408,1.545856,0.9929037,0.7748165,0.6340825,0.1627483,-0.3340511,-0.7413387,-1.076004,-1.471315,-1.871909,-2.325519,-2.897621,-3.436679,-3.856721,-4.446494,-4.780513,-4.998526,-5.494181,-5.946121,-6.135735,-6.707905,-7.147974,-7.549429,-7.942249,-8.504817,-8.571786,-8.959161,-9.007642,-9.271007,-9.503047,-10.01717,-10.50469,-10.55422,-10.70457,-11.20296,-11.58774,-11.95364,-12.12736,-13.94275,-14.22213,-14.47308,-14.60277,-14.86321,-14.70449,-14.71585,-14.86121,-18.14335,-18.39168,-18.55451,-18.75333,-18.52263]},"bases" : []},"NA" : {"name" : "North America", "initials" : "NA", "order" : 1, "spent_funds" : 3000, "spent_polcap" : 0, "scores" : { "environ" : [-15,-15.20704,-15.47384,-15.643,-15.97403,-16.29869,-16.77685,-17.14157,-17.72192,-18.04459,-18.45414,-19.0071,-19.22518,-19.36592,-19.83725,-20.33405,-20.74134,-21.076,-21.47132,-21.87191,-22.32552,-22.89762,-23.43668,-23.85672,-24.44649,-24.78051,-24.99853,-25.49418,-25.94612,-26.13573,-26.7079,-27.14797,-27.54943,-27.94225,-28.33815,-28.07178,-27.95916,-27.50764,-27.271,-27.00304,-27.01716,-27.00469,-26.55422,-26.20457,-26.20295,-26.08773,-25.98697,-25.79402,-25.57608,-25.48878,-25.37307,-25.1361,-25.02987,-24.60448,-24.34917,-24.22786,-23.94334,-23.95833,-23.88783,-23.88665,-23.48928],"economy":[30.06,29.96421,29.76155,29.64068,29.57169,29.48977,29.27112,29.06219,28.81081,28.68452,28.55414,28.33814,28.13497,27.89008,27.71144,27.63228,27.50661,27.26077,27.08983,26.83589,26.58391,26.47046,26.31571,26.12451,25.94139,25.84946,25.68247,25.51127,25.25619,25.08886,24.834,24.60318,24.49112,24.2724,24.37666,24.87704,25.67316,26.42649,27.14464,27.94852,28.69064,29.42248,30.09674,30.81275,31.59549,32.37524,33.19514,34.02496,34.83987,35.64097,36.46265,37.26464,37.98989,38.75943,39.56778,40.25914,41.0378,41.76054,42.57722,43.32043,44.17063]},"bases" : [{"name" : "Coal", "active" : true, "upgrades" : [{"name" : "Decomission Old Coal Plants","active" : false},{"name" : "New Coal Plants & Mines ","active" : false},{"name" : "Research Carbon Capture ","active" : false},{"name" : "Clean Coal Plants ","active" : false},{"name" : "Oil Refineries and Wells","active" : false},{"name" : "Natural Gas Plants ","active" : false},{"name" : "Deregulate Fracking ","active" : false},{"name" : "Ban Fracking ","active" : false},{"name" : "Oil and Natural Gas Exploration ","active" : false}] },{"name" : "Solar Power", "active" : true, "upgrades" : [{"name" : "Photovoltaic Plants ","active" : false},{"name" : "Thermal Plants ","active" : false},{"name" : "Solar Energy Research ","active" : false},{"name" : "Solar Subsidy ","active" : false},{"name" : "Offshore Solar Plants ","active" : false},{"name" : "Hybrid Solar Plants ","active" : false},{"name" : "Advanced Solar Energy Research","active" : false},{"name" : "Solar Concentration Plants ","active" : false},{"name" : "Nanomaterial Solar Cells ","active" : false},{"name" : "Space-based Solar Power ","active" : false},{"name" : "Moon-based Solar Power","active" : false}] },{"name" : "Capitol", "active" : true, "upgrades" : [{"name" : "Cut Taxes ","active" : false},{"name" : "Subsidize Renewable Energy ","active" : false},{"name" : "Carbon Tax ","active" : false},{"name" : "Severe Carbon Tax ","active" : false},{"name" : "Fund Climate Studies ","active" : false},{"name" : "Increase Renewable Energy R&D Budget ","active" : false},{"name" : "Smart Grid ","active" : false},{"name" : "Global Greenhouse Gas Emmissions Agreement ","active" : false},{"name" : "Economic Stimulus ","active" : false}] },{"name" : "Wind Power", "active" : true, "upgrades" : [{"name" : "Wind Farms ","active" : false},{"name" : "Wind Power Research ","active" : false},{"name" : "Airborne Turbines","active" : false},{"name" : "Offshore Wind Farms","active" : false},{"name" : "Advanced Wind Power Research ","active" : false},{"name" : "Airborne Wind Turbines ","active" : false},{"name" : "Nanomaterial Wind Turbines ","active" : false},{"name" : "Advanced Wind Turbines","active" : false}] },{"name" : "Nuclear Power", "active" : true, "upgrades" : [{"name" : "Ban Nuclear Power","active" : false},{"name" : "Nuclear Plants","active" : false},{"name" : "Nuclear Power Research ","active" : false},{"name" : "Fusion Reactors","active" : false},{"name" : "Safe Fuel Pellets ","active" : false},{"name" : "Advanced Nuclear Power Research ","active" : false},{"name" : "Nuclear Fusion Research ","active" : false},{"name" : "Travelling Wave Reactors ","active" : false},{"name" : "Thorium Reactors ","active" : false},{"name" : "Generation IV and V Reactors ","active" : false},{"name" : "Fusion Reactors ","active" : false}] },{"name" : "Oil And Gas", "active" : true, "upgrades" : [{"name" : "Ban Nuclear Power","active" : false},{"name" : "Nuclear Plants","active" : false},{"name" : "Nuclear Power Research ","active" : false},{"name" : "Passive Nuclear Safety","active" : false},{"name" : "Safe Fuel Pellets ","active" : false},{"name" : "Advanced Nuclear Power Research ","active" : false},{"name" : "Nuclear Fusion Research ","active" : false},{"name" : "Travelling Wave Reactors ","active" : false},{"name" : "Thorium Reactors ","active" : false},{"name" : "Generation IV and V Reactors ","active" : false},{"name" : "Fusion Reactors ","active" : false}] },{"name" : "Research", "active" : true, "upgrades" : [{"name" : "Ban Nuclear Power","active" : false},{"name" : "Nuclear Plants","active" : false},{"name" : "Nuclear Power Research ","active" : false},{"name" : "Passive Nuclear Safety","active" : false},{"name" : "Safe Fuel Pellets ","active" : false},{"name" : "Advanced Nuclear Power Research ","active" : false},{"name" : "Nuclear Fusion Research ","active" : false},{"name" : "Travelling Wave Reactors ","active" : false},{"name" : "Thorium Reactors ","active" : false},{"name" : "Generation IV and V Reactors ","active" : false},{"name" : "Fusion Reactors ","active" : false}] },{"name" : "Ecosystem", "active" : true, "upgrades" : [{"name" : "Ban Nuclear Power","active" : false},{"name" : "Weather Modification","active" : true},{"name" : "Sustainable Fisheries & Aquaculture","active" : true},{"name" : "Mechanical Trees","active" : true},{"name" : "Safe Fuel Pellets ","active" : false},{"name" : "Advanced Nuclear Power Research ","active" : false},{"name" : "Nuclear Fusion Research ","active" : false},{"name" : "Travelling Wave Reactors ","active" : false},{"name" : "Thorium Reactors ","active" : false},{"name" : "Generation IV and V Reactors ","active" : false},{"name" : "Fusion Reactors ","active" : false}] }]},"SA" : {"name" : "South America", "initials" : "SA", "order" : 2, "spent_funds" : 6000, "spent_polcap" : 0, "scores" : { "environ" : [25,24.79296,24.52616,24.357,24.02596,23.70131,23.22315,22.85843,22.27808,21.95541,21.54585,20.9929,20.77481,20.63408,20.16275,19.66595,19.25866,18.92399,18.52868,18.12809,17.67448,17.10238,16.56332,16.14328,15.55351,15.21949,15.00147,14.50582,14.05388,13.86426,13.2921,12.85203,12.45057,12.05775,11.46185,11.32821,10.84084,10.69236,10.32899,9.996953,9.382833,8.795306,8.645778,8.395429,7.797043,7.312263,7.013024,7.40597,7.823915,8.111207,8.426919,8.863895,9.170122,9.795509,10.25082,10.57213,11.05665,11.24166,11.51216,11.71334,12.31071],"economy":[15.03,14.90415,14.67137,14.52032,14.42109,14.30887,14.05986,13.8205,13.53864,13.38181,13.22082,12.97415,12.74025,12.46458,12.25509,12.14501,11.98837,11.71149,11.50945,11.22435,10.94115,10.79641,10.61031,10.3877,10.17311,10.04964,10.15165,10.24999,10.26499,10.36827,10.38457,10.42546,10.58564,10.6397,10.7167,10.88916,11.05611,11.179,11.26546,11.43639,11.54428,11.64063,11.67812,11.75609,11.89952,12.03868,12.0163,12.00216,11.97143,12.32599,12.70024,13.0539,13.32993,13.64935,14.00667,14.24611,14.57195,14.84095,15.20299,15.49065,15.88439]},"bases" : [{"name" : "Coal", "active" : false, "upgrades" : [{"name" : "Decomission Old Coal Plants","active" : false},{"name" : "New Coal Plants & Mines ","active" : false},{"name" : "Research Carbon Capture ","active" : false},{"name" : "Clean Coal Plants ","active" : false},{"name" : "Oil Refineries and Wells","active" : false},{"name" : "Natural Gas Plants ","active" : false},{"name" : "Deregulate Fracking ","active" : false},{"name" : "Ban Fracking ","active" : false},{"name" : "Oil and Natural Gas Exploration ","active" : false}] },{"name" : "Solar Power", "active" : false, "upgrades" : [{"name" : "Photovoltaic Plants ","active" : false},{"name" : "Thermal Plants ","active" : false},{"name" : "Solar Energy Research ","active" : false},{"name" : "Solar Subsidy ","active" : false},{"name" : "Offshore Solar Plants ","active" : false},{"name" : "Hybrid Solar Plants ","active" : false},{"name" : "Advanced Solar Energy Research","active" : false},{"name" : "Solar Concentration Plants ","active" : false},{"name" : "Nanomaterial Solar Cells ","active" : false},{"name" : "Space-based Solar Power ","active" : false},{"name" : "Moon-based Solar Power","active" : false}] },{"name" : "Capitol", "active" : true, "upgrades" : [{"name" : "Cut Taxes ","active" : true},{"name" : "Subsidize Renewable Energy ","active" : true},{"name" : "Carbon Tax ","active" : false},{"name" : "Severe Carbon Tax ","active" : false},{"name" : "Fund Climate Studies ","active" : true},{"name" : "Increase Renewable Energy R&D Budget ","active" : true},{"name" : "Smart Grid ","active" : true},{"name" : "Global Greenhouse Gas Emmissions Agreement ","active" : false},{"name" : "Economic Stimulus ","active" : true}] },{"name" : "Wind Power", "active" : false, "upgrades" : [{"name" : "Wind Farms ","active" : false},{"name" : "Wind Power Research ","active" : false},{"name" : "Airborne Turbines","active" : false},{"name" : "Offshore Wind Farms","active" : false},{"name" : "Advanced Wind Power Research ","active" : false},{"name" : "Airborne Wind Turbines ","active" : false},{"name" : "Nanomaterial Wind Turbines ","active" : false},{"name" : "Advanced Wind Turbines","active" : false}] },{"name" : "Nuclear Power", "active" : false, "upgrades" : [{"name" : "Ban Nuclear Power","active" : false},{"name" : "Nuclear Plants","active" : false},{"name" : "Nuclear Power Research ","active" : false},{"name" : "Fusion Reactors","active" : false},{"name" : "Safe Fuel Pellets ","active" : false},{"name" : "Advanced Nuclear Power Research ","active" : false},{"name" : "Nuclear Fusion Research ","active" : false},{"name" : "Travelling Wave Reactors ","active" : false},{"name" : "Thorium Reactors ","active" : false},{"name" : "Generation IV and V Reactors ","active" : false},{"name" : "Fusion Reactors ","active" : false}] },{"name" : "Oil And Gas", "active" : false, "upgrades" : [{"name" : "Ban Nuclear Power","active" : false},{"name" : "Nuclear Plants","active" : false},{"name" : "Nuclear Power Research ","active" : false},{"name" : "Passive Nuclear Safety","active" : false},{"name" : "Safe Fuel Pellets ","active" : false},{"name" : "Advanced Nuclear Power Research ","active" : false},{"name" : "Nuclear Fusion Research ","active" : false},{"name" : "Travelling Wave Reactors ","active" : false},{"name" : "Thorium Reactors ","active" : false},{"name" : "Generation IV and V Reactors ","active" : false},{"name" : "Fusion Reactors ","active" : false}] }]},"EU" : {"name" : "Europe", "initials" : "EU", "order" : 3, "spent_funds" : 4000, "spent_polcap" : 0, "scores" : { "environ" : [15,14.79296,14.52616,14.357,14.02597,13.70131,13.22315,12.85843,12.27808,11.95541,11.54586,10.9929,10.77482,10.63408,10.16275,9.665951,9.258663,8.923998,8.528687,8.128093,7.674483,7.102381,6.563323,6.143281,5.553508,5.219489,5.001477,4.505821,4.053881,3.864267,3.292098,2.852027,2.450572,2.057753,1.461852,1.328216,0.8408415,0.6923591,0.3289956,-0.003044844,-0.6171648,-1.204692,-1.35422,-1.604569,-2.202954,-2.687735,-3.186974,-3.594027,-3.976082,-4.488791,-4.973078,-5.336102,-5.829876,-5.40449,-5.14918,-5.027874,-4.743354,-4.758343,-4.68784,-4.686666,-4.289295],"economy":[20.04,19.92417,19.70143,19.56044,19.47129,19.36917,19.13028,18.90106,18.62937,18.48271,18.33193,18.09548,17.87182,17.60641,17.4072,17.30744,17.16112,16.89459,16.70291,16.4282,16.1554,16.02109,15.84545,15.6333,15.42921,15.31625,15.12819,14.93588,14.65965,14.47112,14.19503,13.94293,13.80955,13.56947,13.35172,13.22885,13.09988,12.92626,12.71562,12.58884,12.39843,12.1959,11.9339,11.71178,11.55452,11.39239,11.26851,11.15268,11.02005,10.8717,10.74204,10.59079,10.3609,9.972977,9.621549,9.150815,8.765061,8.321054,7.96865,7.540447,7.216883]},"bases" : [{"name" : "Coal", "active" : false, "upgrades" : [{"name" : "Decomission Old Coal Plants","active" : false},{"name" : "New Coal Plants & Mines ","active" : false},{"name" : "Research Carbon Capture ","active" : false},{"name" : "Clean Coal Plants ","active" : false},{"name" : "Oil Refineries and Wells","active" : false},{"name" : "Natural Gas Plants ","active" : false},{"name" : "Deregulate Fracking ","active" : false},{"name" : "Ban Fracking ","active" : false},{"name" : "Oil and Natural Gas Exploration ","active" : false}] },{"name" : "Solar Power", "active" : false, "upgrades" : [{"name" : "Photovoltaic Plants ","active" : false},{"name" : "Thermal Plants ","active" : false},{"name" : "Solar Energy Research ","active" : false},{"name" : "Solar Subsidy ","active" : false},{"name" : "Offshore Solar Plants ","active" : false},{"name" : "Hybrid Solar Plants ","active" : false},{"name" : "Advanced Solar Energy Research","active" : false},{"name" : "Solar Concentration Plants ","active" : false},{"name" : "Nanomaterial Solar Cells ","active" : false},{"name" : "Space-based Solar Power ","active" : false},{"name" : "Moon-based Solar Power","active" : false}] },{"name" : "Capitol", "active" : true, "upgrades" : [{"name" : "Cut Taxes ","active" : true},{"name" : "Subsidize Renewable Energy ","active" : true},{"name" : "Carbon Tax ","active" : true},{"name" : "Severe Carbon Tax ","active" : false},{"name" : "Fund Climate Studies ","active" : true},{"name" : "Increase Renewable Energy R&D Budget ","active" : false},{"name" : "Smart Grid ","active" : false},{"name" : "Global Greenhouse Gas Emmissions Agreement ","active" : false},{"name" : "Economic Stimulus ","active" : false}] },{"name" : "Wind Power", "active" : false, "upgrades" : [{"name" : "Wind Farms ","active" : false},{"name" : "Wind Power Research ","active" : false},{"name" : "Airborne Turbines","active" : false},{"name" : "Offshore Wind Farms","active" : false},{"name" : "Advanced Wind Power Research ","active" : false},{"name" : "Airborne Wind Turbines ","active" : false},{"name" : "Nanomaterial Wind Turbines ","active" : false},{"name" : "Advanced Wind Turbines","active" : false}] },{"name" : "Nuclear Power", "active" : false, "upgrades" : [{"name" : "Ban Nuclear Power","active" : false},{"name" : "Nuclear Plants","active" : false},{"name" : "Nuclear Power Research ","active" : false},{"name" : "Fusion Reactors","active" : false},{"name" : "Safe Fuel Pellets ","active" : false},{"name" : "Advanced Nuclear Power Research ","active" : false},{"name" : "Nuclear Fusion Research ","active" : false},{"name" : "Travelling Wave Reactors ","active" : false},{"name" : "Thorium Reactors ","active" : false},{"name" : "Generation IV and V Reactors ","active" : false},{"name" : "Fusion Reactors ","active" : false}] },{"name" : "Oil And Gas", "active" : false, "upgrades" : [{"name" : "Ban Nuclear Power","active" : false},{"name" : "Nuclear Plants","active" : false},{"name" : "Nuclear Power Research ","active" : false},{"name" : "Passive Nuclear Safety","active" : false},{"name" : "Safe Fuel Pellets ","active" : false},{"name" : "Advanced Nuclear Power Research ","active" : false},{"name" : "Nuclear Fusion Research ","active" : false},{"name" : "Travelling Wave Reactors ","active" : false},{"name" : "Thorium Reactors ","active" : false},{"name" : "Generation IV and V Reactors ","active" : false},{"name" : "Fusion Reactors ","active" : false}] }]},"AF" : {"name" : "Africa", "initials" : "AF", "order" : 4, "spent_funds" : 3000, "spent_polcap" : 0, "scores" : { "environ" : [20,19.79296,19.52616,19.357,19.02596,18.70131,18.22315,17.85843,17.27808,16.95541,16.54585,15.9929,15.77482,15.63408,15.16275,14.66595,14.25866,13.924,13.52868,13.12809,12.67448,12.10238,11.56332,11.14328,10.55351,10.21949,10.00148,9.505819,9.05388,8.864265,8.292096,7.852026,7.450571,7.057752,6.46185,6.328215,5.84084,5.692358,5.328994,4.996953,4.382833,3.795307,3.645778,3.395429,2.797044,2.312264,1.813025,1.405971,-8.976084,-9.488792,-9.973081,-10.33611,-10.82988,-11.00449,-11.34918,-11.82788,-31.94336,-32.35835,-32.68784,-33.08667,-33.08929],"economy":[10.02,9.884129,9.641313,9.4802,9.370889,9.248565,8.98944,8.739938,8.44792,8.280904,8.109718,7.852823,7.608681,7.322744,7.10297,6.982594,6.815627,6.528404,6.315998,6.02051,5.726895,5.571729,5.375186,5.142101,4.917023,4.783039,4.573916,4.360497,4.063119,3.853398,3.556066,3.282695,3.127994,2.866543,2.627392,2.483077,2.332608,2.137457,1.905234,1.756836,1.544767,1.320522,1.036772,0.7928624,0.6137612,0.4297497,0.2839527,0.146146,-5.018497,-5.198917,-5.360719,-5.544176,-5.806342,-6.026196,-6.209223,-6.511218,-26.9683,-27.18317,-27.30598,-27.50414,-27.59719]},"bases" : [{"name" : "Coal", "active" : false, "upgrades" : [{"name" : "Decomission Old Coal Plants","active" : false},{"name" : "New Coal Plants & Mines ","active" : false},{"name" : "Research Carbon Capture ","active" : false},{"name" : "Clean Coal Plants ","active" : false},{"name" : "Oil Refineries and Wells","active" : false},{"name" : "Natural Gas Plants ","active" : false},{"name" : "Deregulate Fracking ","active" : false},{"name" : "Ban Fracking ","active" : false},{"name" : "Oil and Natural Gas Exploration ","active" : false}] },{"name" : "Solar Power", "active" : false, "upgrades" : [{"name" : "Photovoltaic Plants ","active" : false},{"name" : "Thermal Plants ","active" : false},{"name" : "Solar Energy Research ","active" : false},{"name" : "Solar Subsidy ","active" : false},{"name" : "Offshore Solar Plants ","active" : false},{"name" : "Hybrid Solar Plants ","active" : false},{"name" : "Advanced Solar Energy Research","active" : false},{"name" : "Solar Concentration Plants ","active" : false},{"name" : "Nanomaterial Solar Cells ","active" : false},{"name" : "Space-based Solar Power ","active" : false},{"name" : "Moon-based Solar Power","active" : false}] },{"name" : "Capitol", "active" : true, "upgrades" : [{"name" : "Cut Taxes ","active" : true},{"name" : "Subsidize Renewable Energy ","active" : true},{"name" : "Carbon Tax ","active" : false},{"name" : "Severe Carbon Tax ","active" : false},{"name" : "Fund Climate Studies ","active" : true},{"name" : "Increase Renewable Energy R&D Budget ","active" : false},{"name" : "Smart Grid ","active" : false},{"name" : "Global Greenhouse Gas Emmissions Agreement ","active" : false},{"name" : "Economic Stimulus ","active" : false}] },{"name" : "Wind Power", "active" : false, "upgrades" : [{"name" : "Wind Farms ","active" : false},{"name" : "Wind Power Research ","active" : false},{"name" : "Airborne Turbines","active" : false},{"name" : "Offshore Wind Farms","active" : false},{"name" : "Advanced Wind Power Research ","active" : false},{"name" : "Airborne Wind Turbines ","active" : false},{"name" : "Nanomaterial Wind Turbines ","active" : false},{"name" : "Advanced Wind Turbines","active" : false}] },{"name" : "Nuclear Power", "active" : false, "upgrades" : [{"name" : "Ban Nuclear Power","active" : false},{"name" : "Nuclear Plants","active" : false},{"name" : "Nuclear Power Research ","active" : false},{"name" : "Fusion Reactors","active" : false},{"name" : "Safe Fuel Pellets ","active" : false},{"name" : "Advanced Nuclear Power Research ","active" : false},{"name" : "Nuclear Fusion Research ","active" : false},{"name" : "Travelling Wave Reactors ","active" : false},{"name" : "Thorium Reactors ","active" : false},{"name" : "Generation IV and V Reactors ","active" : false},{"name" : "Fusion Reactors ","active" : false}] },{"name" : "Oil And Gas", "active" : false, "upgrades" : [{"name" : "Ban Nuclear Power","active" : false},{"name" : "Nuclear Plants","active" : false},{"name" : "Nuclear Power Research ","active" : false},{"name" : "Passive Nuclear Safety","active" : false},{"name" : "Safe Fuel Pellets ","active" : false},{"name" : "Advanced Nuclear Power Research ","active" : false},{"name" : "Nuclear Fusion Research ","active" : false},{"name" : "Travelling Wave Reactors ","active" : false},{"name" : "Thorium Reactors ","active" : false},{"name" : "Generation IV and V Reactors ","active" : false},{"name" : "Fusion Reactors ","active" : false}] }]},"CA" : {"name" : "Central Asia", "initials" : "CA", "order" : 5, "spent_funds" : 2000, "spent_polcap" : 0, "scores" : { "environ" : [10,9.792961,9.526156,9.357,9.025966,8.701308,8.223148,7.85843,7.278078,6.955409,6.545857,5.992906,5.774818,5.634084,5.162751,4.665951,4.258664,3.923999,3.528687,3.128093,2.674484,2.102381,1.563324,1.143281,0.5535089,0.2194892,0.001477271,-0.4941789,-0.9461184,-1.135732,-1.707902,-2.147972,-2.549427,-2.942246,-3.538148,-3.671783,-4.159158,-4.307641,-4.671004,-5.003045,-5.617165,-6.204691,-6.35422,-6.604569,-7.202954,-7.687735,-8.186974,-8.594028,-8.976082,-9.488791,-9.973079,-10.3361,-10.82988,-11.00449,-11.34918,-11.82787,-12.14335,-12.75834,-13.28784,-13.68667,-13.68929],"economy":[20.04,19.92417,14.69143,14.54042,14.44123,14.32905,14.08008,13.84076,13.55895,13.40215,13.24121,12.99458,12.76072,12.48509,12.27564,12.16561,12.009,11.73217,11.53017,11.24511,10.96194,10.81725,10.6312,10.40862,10.19408,10.07065,9.872101,9.669278,9.382518,9.183434,8.896763,8.634073,8.490074,-16.81065,-17.08916,-17.27291,-17.46289,-17.69763,-17.96952,-18.15767,-18.40957,-18.67372,-18.99746,-19.28144,-19.50068,-19.72493,-19.91103,-20.08923,-20.28434,-20.49529,-20.68769,-20.9018,-21.19468,-21.44531,-21.65918,-21.99207,-22.23971,-22.54533,-22.75907,-22.94812,-23.03207]},"bases" : [{"name" : "Coal", "active" : false, "upgrades" : [{"name" : "Decomission Old Coal Plants","active" : false},{"name" : "New Coal Plants & Mines ","active" : false},{"name" : "Research Carbon Capture ","active" : false},{"name" : "Clean Coal Plants ","active" : false},{"name" : "Oil Refineries and Wells","active" : false},{"name" : "Natural Gas Plants ","active" : false},{"name" : "Deregulate Fracking ","active" : false},{"name" : "Ban Fracking ","active" : false},{"name" : "Oil and Natural Gas Exploration ","active" : false}] },{"name" : "Solar Power", "active" : false, "upgrades" : [{"name" : "Photovoltaic Plants ","active" : false},{"name" : "Thermal Plants ","active" : false},{"name" : "Solar Energy Research ","active" : false},{"name" : "Solar Subsidy ","active" : false},{"name" : "Offshore Solar Plants ","active" : false},{"name" : "Hybrid Solar Plants ","active" : false},{"name" : "Advanced Solar Energy Research","active" : false},{"name" : "Solar Concentration Plants ","active" : false},{"name" : "Nanomaterial Solar Cells ","active" : false},{"name" : "Space-based Solar Power ","active" : false},{"name" : "Moon-based Solar Power","active" : false}] },{"name" : "Capitol", "active" : true, "upgrades" : [{"name" : "Cut Taxes ","active" : true},{"name" : "Subsidize Renewable Energy ","active" : true},{"name" : "Carbon Tax ","active" : false},{"name" : "Severe Carbon Tax ","active" : false},{"name" : "Fund Climate Studies ","active" : false},{"name" : "Increase Renewable Energy R&D Budget ","active" : false},{"name" : "Smart Grid ","active" : false},{"name" : "Global Greenhouse Gas Emmissions Agreement ","active" : false},{"name" : "Economic Stimulus ","active" : false}] },{"name" : "Wind Power", "active" : false, "upgrades" : [{"name" : "Wind Farms ","active" : false},{"name" : "Wind Power Research ","active" : false},{"name" : "Airborne Turbines","active" : false},{"name" : "Offshore Wind Farms","active" : false},{"name" : "Advanced Wind Power Research ","active" : false},{"name" : "Airborne Wind Turbines ","active" : false},{"name" : "Nanomaterial Wind Turbines ","active" : false},{"name" : "Advanced Wind Turbines","active" : false}] },{"name" : "Nuclear Power", "active" : false, "upgrades" : [{"name" : "Ban Nuclear Power","active" : false},{"name" : "Nuclear Plants","active" : false},{"name" : "Nuclear Power Research ","active" : false},{"name" : "Fusion Reactors","active" : false},{"name" : "Safe Fuel Pellets ","active" : false},{"name" : "Advanced Nuclear Power Research ","active" : false},{"name" : "Nuclear Fusion Research ","active" : false},{"name" : "Travelling Wave Reactors ","active" : false},{"name" : "Thorium Reactors ","active" : false},{"name" : "Generation IV and V Reactors ","active" : false},{"name" : "Fusion Reactors ","active" : false}] },{"name" : "Oil And Gas", "active" : false, "upgrades" : [{"name" : "Ban Nuclear Power","active" : false},{"name" : "Nuclear Plants","active" : false},{"name" : "Nuclear Power Research ","active" : false},{"name" : "Passive Nuclear Safety","active" : false},{"name" : "Safe Fuel Pellets ","active" : false},{"name" : "Advanced Nuclear Power Research ","active" : false},{"name" : "Nuclear Fusion Research ","active" : false},{"name" : "Travelling Wave Reactors ","active" : false},{"name" : "Thorium Reactors ","active" : false},{"name" : "Generation IV and V Reactors ","active" : false},{"name" : "Fusion Reactors ","active" : false}] }]},"EA" : {"name" : "East Asia", "initials" : "EA", "order" : 6, "spent_funds" : 1000, "spent_polcap" : 0, "scores" : { "environ" : [-25,-25.20704,-25.47384,-25.643,-25.97404,-26.29869,-26.77685,-27.14157,-27.72192,-28.04459,-28.45415,-29.0071,-29.22519,-29.36592,-29.83725,-30.33405,-30.74134,-31.07601,-31.47132,-31.87191,-32.32552,-32.89762,-33.43668,-33.85673,-34.4465,-34.78052,-34.99853,-35.49419,-35.94613,-36.13574,-36.70791,-37.14798,-37.54943,-37.94225,-38.53815,-38.67179,-39.15916,-39.30765,-39.67101,-40.00305,-40.61717,-41.2047,-41.35423,-41.60458,-42.20296,-42.68774,-43.18698,-43.59404,-43.97609,-44.4888,-44.97308,-45.33611,-45.82988,-46.0045,-46.34919,-46.82788,-47.14336,-47.75835,-48.28785,-48.88668,-48.88931],"economy":[40.08,40.00425,39.82167,39.72092,39.67209,39.61037,39.41197,39.22331,38.99226,38.88633,38.77636,38.5808,38.39811,38.17376,38.01568,37.95713,37.85212,37.62696,37.47675,37.24359,37.01242,36.91983,36.78598,36.61572,36.45358,36.38267,36.23675,36.08665,35.85273,35.70659,35.47297,35.26343,35.17269,34.97533,34.80039,34.72042,34.63443,34.50388,34.33639,34.25285,34.10578,33.94666,33.72816,33.54963,33.43604,33.31768,33.23766,33.16576,33.07715,32.97292,32.88747,32.78051,32.59499,32.45194,32.34587,32.12098,31.98157,31.7844,31.67932,31.49894,31.22329]},"bases" : [{"name" : "Coal", "active" : false, "upgrades" : [{"name" : "Decomission Old Coal Plants","active" : false},{"name" : "New Coal Plants & Mines ","active" : false},{"name" : "Research Carbon Capture ","active" : false},{"name" : "Clean Coal Plants ","active" : false},{"name" : "Oil Refineries and Wells","active" : false},{"name" : "Natural Gas Plants ","active" : false},{"name" : "Deregulate Fracking ","active" : false},{"name" : "Ban Fracking ","active" : false},{"name" : "Oil and Natural Gas Exploration ","active" : false}] },{"name" : "Solar Power", "active" : false, "upgrades" : [{"name" : "Photovoltaic Plants ","active" : false},{"name" : "Thermal Plants ","active" : false},{"name" : "Solar Energy Research ","active" : false},{"name" : "Solar Subsidy ","active" : false},{"name" : "Offshore Solar Plants ","active" : false},{"name" : "Hybrid Solar Plants ","active" : false},{"name" : "Advanced Solar Energy Research","active" : false},{"name" : "Solar Concentration Plants ","active" : false},{"name" : "Nanomaterial Solar Cells ","active" : false},{"name" : "Space-based Solar Power ","active" : false},{"name" : "Moon-based Solar Power","active" : false}] },{"name" : "Capitol", "active" : true, "upgrades" : [{"name" : "Cut Taxes ","active" : false},{"name" : "Subsidize Renewable Energy ","active" : true},{"name" : "Carbon Tax ","active" : false},{"name" : "Severe Carbon Tax ","active" : false},{"name" : "Fund Climate Studies ","active" : false},{"name" : "Increase Renewable Energy R&D Budget ","active" : false},{"name" : "Smart Grid ","active" : false},{"name" : "Global Greenhouse Gas Emmissions Agreement ","active" : false},{"name" : "Economic Stimulus ","active" : false}] },{"name" : "Wind Power", "active" : false, "upgrades" : [{"name" : "Wind Farms ","active" : false},{"name" : "Wind Power Research ","active" : false},{"name" : "Airborne Turbines","active" : false},{"name" : "Offshore Wind Farms","active" : false},{"name" : "Advanced Wind Power Research ","active" : false},{"name" : "Airborne Wind Turbines ","active" : false},{"name" : "Nanomaterial Wind Turbines ","active" : false},{"name" : "Advanced Wind Turbines","active" : false}] },{"name" : "Nuclear Power", "active" : false, "upgrades" : [{"name" : "Ban Nuclear Power","active" : false},{"name" : "Nuclear Plants","active" : false},{"name" : "Nuclear Power Research ","active" : false},{"name" : "Fusion Reactors","active" : false},{"name" : "Safe Fuel Pellets ","active" : false},{"name" : "Advanced Nuclear Power Research ","active" : false},{"name" : "Nuclear Fusion Research ","active" : false},{"name" : "Travelling Wave Reactors ","active" : false},{"name" : "Thorium Reactors ","active" : false},{"name" : "Generation IV and V Reactors ","active" : false},{"name" : "Fusion Reactors ","active" : false}] },{"name" : "Oil And Gas", "active" : false, "upgrades" : [{"name" : "Ban Nuclear Power","active" : false},{"name" : "Nuclear Plants","active" : false},{"name" : "Nuclear Power Research ","active" : false},{"name" : "Passive Nuclear Safety","active" : false},{"name" : "Safe Fuel Pellets ","active" : false},{"name" : "Advanced Nuclear Power Research ","active" : false},{"name" : "Nuclear Fusion Research ","active" : false},{"name" : "Travelling Wave Reactors ","active" : false},{"name" : "Thorium Reactors ","active" : false},{"name" : "Generation IV and V Reactors ","active" : false},{"name" : "Fusion Reactors ","active" : false}] }]}} } }'; 

$s = new Session($str); 

echo "session id: \t".$s->session_id."\n"; 
echo "name: \t".$s->name."\n"; 
echo "class code: \t".$s->classcode."\n"; 
echo "ipaddress: \t".$s->ipaddress."\n"; 
echo "city, state: \t".$s->citystate."\n"; 
echo "spent_funds: \t".$s->spent_funds."\n"; 
echo "spent_polcap: \t".$s->spent_polcap."\n"; 
echo "level: \t".$s->level."\n"; 
echo "playtime: \t".$s->playtime."\n"; 
echo "status: \t".$s->status."\n"; 
echo "completed: \t".$s->completed."\n"; 
echo "clicks: \t".$s->clicks."\n"; 
echo "drag: \t\t".$s->drag."\n"; 
echo "arrows: \t".$s->arrows."\n"; 
echo "wasd keys: \t".$s->wasdkeys."\n"; 
echo "minimap: \t".$s->minimap."\n"; 
echo "numeric keys: \t".$s->numkeys."\n"; 
echo "panel time open: \t".$s->panel_time_open."\n"; 
echo "panel time close: \t".$s->panel_time_close."\n"; 
echo "panel click open: \t".$s->panel_clicks_open."\n"; 
echo "panel click close: \t".$s->panel_clicks_close."\n"; 
echo "regions: \t".$s->region_data."\n"; 

?>